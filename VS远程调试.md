[TOC]

## 应用场景



### 工作中经常会有这种情况：

- 代码在别的机器上跑...不能停下来打断点，定位问题不能停程序，日志又有点不给力

- 程序出现了很难复现的问题，刚好复现了...但是没有办法调试...

**怎么办？**



### 远程调试

#### 工具介绍

vs自带了`Remote Debugger`这款神奇的工具，能够进行远程调试。



![1546073660740](.\res\1546073660740.png)

#### 工具路径

`C:\Program Files (x86)\Microsoft Visual Studio 12.0\Common7\IDE\Remote Debugger`



#### 使用方法

1. x86 对应WIN32程序，x64 对应X64程序，把整个文件夹丢到远程计算机上。

2. 打开文件夹中的`msvsmon.exe`

3. 设置

   ![1546074043940](.\res\1546074043940.png)

- 选无身份验证允许任何用户调试，windows身份验证也行，就是要输账号密码
- 确定完之后，程序就在远程端等待你连接了。

4. 本机需要设置 项目->属性->配置属性->调试

![1546074269495](.\res\1546074269495.png)

1. 先选远程windows调试器

2. 然后把下面的几项属性配一下...exe调试的话，需要注意远程命令和命令参数，需要和调用exe的一致。

   ![1546074467464](.\res\1546074467464.png)

3. 应用之后就能用这个跑起来。

   ![1546395043561](.\res\1546395043561.png)

4. 如果是dll调试的话，在跑起来之后，调试->附加到进程（正在调这个dll的exe上）

   ![1546395191801](.\res\1546395191801.png)

    在下面的限定符中可以找到远程计算机的ip和端口。

5. 勾选显示所有用户进程，找到需要调试的那个进程.

6. ![1546395263711](.\res\1546395263711.png)

 附加就OK了，远程的程序就能够进到本机的断点了。
